<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>无标题文档</title>
<link href="css/common.css" rel="stylesheet" />
<link href="css/fjh2.css" rel="stylesheet" type="text/css">
<script src="js/jquery-1.12.3.min.js"></script>
</head>

<body>

    <div class="m-ban">
        <div class="m-ban1">
            <a href="#"><img width="1920px" src="images/ban1.jpg"/></a>
            <a href="#"><img width="1920px" src="images/01.jpg"/></a>
            <a href="#"><img width="1920px" src="images/ban1.jpg"/></a>
        </div>
        <div class="m-ban4"></div>
        <div class="m-ban5"></div>
        <div class="m-ban3">
            <div class="m-ban6">
                <a href="#"></a>
                <a href="#"></a>
                <a href="#"></a>
            </div>          
        </div>
    </div>

<script>
/*轮播*/
    $(function(){
         var len  = $(".m-ban6 a").length;
         var index = 0;
         var adTimer;
         $(".m-ban6 a").mouseover(function(){
            index  =   $(".m-ban6 a").index(this);
            showImg(index);
         }).eq(0).mouseover();  
         //滑入 停止动画，滑出开始动画.
         $('.m-ban').hover(function(){
                 clearInterval(adTimer);
             },function(){
                 adTimer = setInterval(function(){
                    index++;
                    if(index==len){index=0;}
                    showImg(index);
                  } , 5000);
         }).trigger("mouseleave");
        $('.m-ban4').click(function(){
            clearInterval(adTimer);
            if(index==0){index=len;}
            index--;
            showImg(index);
         });
         $('.m-ban5').click(function(){
            clearInterval(adTimer);
            index++;
            if(index==len){index=0;}
            showImg(index);
         });
    })
    // 通过控制left ，来显示不同的幻灯片
    function showImg(index){
            var adWidth =$(".m-ban").width();
            var a = (1920-$(".m-ban").width())/2;
            $(".m-ban1").stop(true,false).animate({left : -(1920*index+a)},1000);
            $(".m-ban6 a").removeClass("m-ban7")
                .eq(index).addClass("m-ban7");
    }

</script>    
</body>
</html>
 